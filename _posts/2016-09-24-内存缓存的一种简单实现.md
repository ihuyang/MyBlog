---
layout: post
title:  "内存缓存的一种典型实现"
date:   2016-09-24 22:00:00
categories: java web
tags: featured
image: /assets/article_images/2014-11-30-mediator_features/night-track.JPG
image2: /assets/article_images/2014-11-30-mediator_features/night-track-mobile.JPG
---
### *摘要*
>缓存技术作为一种可以有效加快数据读取速度的机制，被广泛应用于各类应用场景中，以提高运行效率，比如CPU寄存器的指令缓存、数据库缓存等等。在我之前的一项工作里，我需要在程序中随时读取整个项目的数据字典，而数据字典与其他数据一样存储于数据库中，频繁读写消耗大，因此我选择了内存缓存的方式去实现这个需求。

>在本文中，我将针对这个应用场景对内存缓存的一种实现方式进行介绍，如果你对该方面内容感兴趣，可以继续阅读下文。

-------------------------------------------------------
# **1. 缓存技术** #
　　缓存，其本质依然是一种存储数据的介质，以数据缓冲区的形式存在，但它往往具备比正常存储器更快的数据读写速度，这种关系就像是寄存器与内存，或者说是内存与磁盘。而缓存的特点也决定了我们使用它的原因，即提高程序运行的效率。在比较典型的缓存应用场景里，我们会在第一次读取数据的时候，将数据同时存放在缓存中，之后如果读取相同的数据就可以直接从缓存获取，而不是访问原本的介质。下面我总结了缓存的几个关键特点，了解这些特点有助于我们判断什么时候该去使用缓存，需要时又该怎样去实现缓存。

* **更快的数据读写速度**　　这点在前文中已经提到，也是我们使用缓存的最主要原因，它的这个特点可以为我们的程序带来更快的运行速度，减小原有存储介质的负担。
* **单位容量的成本更高**　　这也说明了为什么我们不用更快的缓存去完全替换原有的存储介质，也告诉我们不是所有的数据都适合存放在缓存中，因为缓存的容量往往是有限的。
* **非永久存储**　　缓存是数据存储的缓冲区，仅仅起到临时缓冲数据的作用，有效期一般是程序运行期间或者更短，而不像文件或者磁盘可以长久的保留数据。
* **存在时效性问题**　　如果存放在缓存中的数据对应于原存储介质中的部分发生了改变，那么我们读取缓存时可能拿到的就不再是最新的数据，这一点是我们使用缓存时的重要考量，时效性要求高的数据并不适合使用缓存。而常见的应对策略是定期从原介质更新缓存中的数据，周期可以由程序的需求来决定。

　　在接下来介绍的应用场景里，我使用内存作为缓存去存储程序中的数据字典信息。简单说明一下原因。我所使用到的数据字典是对我项目中涉及到的元素进行的定义和说明，起到目录的作用，是程序运行过程中不会发生改变（若需要改变往往是项目版本更新的时候）但又频繁访问的数据，而使用内存缓存数据字典将比每次都访问数据库（即磁盘）快上不少，也减轻了数据库的压力。这种需求的实现方式很多，我将在下面贴出比较典型的一种，可以根据项目的不同需求做调整。



#Blockquotes
>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus

#Lists
##orderd lists
1. one
2. two
3. three

##unorderd lists
- Apple
- Banana
- Plum

#Links
This is an [example link](http://example.com/ "With a Title").

#Combinations
>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus
>
> - Apple
> - Banana
> - Plum
